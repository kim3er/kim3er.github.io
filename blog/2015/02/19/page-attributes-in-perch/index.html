
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Page Attributes in Perch - Adventures in brine</title>
  <meta name="author" content="Richard Kimber">

  
  <meta name="description" content="Page Attributes allow you to add editable content at the page level, rather than on a content level. The syntax is almost identical to that of a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rich.k3r.me/blog/2015/02/19/page-attributes-in-perch">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Adventures in brine" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-56802309-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Adventures in brine</a></h1>
  
    <h2>A blog about code and coding.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="rich.k3r.me">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Page Attributes in Perch</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-19T07:52:05+00:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:52 am</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://rich.k3r.me">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Page Attributes allow you to add editable content at the page level, rather than on a content level. The syntax is almost identical to that of a standard content region. Below is an extract of <code>perch/templates/pages/attributes/seo.html</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;description&quot;</span> <span class="na">label=</span><span class="s">&quot;Description&quot;</span> <span class="na">type=</span><span class="s">&quot;textarea&quot;</span> <span class="na">size=</span><span class="s">&quot;xs&quot;</span> <span class="na">escape=</span><span class="s">&quot;true&quot;</span> <span class="na">count=</span><span class="s">&quot;chars&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<!--more-->


<p><em>If you&rsquo;re not already familiar with how to implement Page Attributes, I urge you to check out Perch&rsquo;s <a href="http://docs.grabaperch.com/docs/pages/page-attributes/">docs</a>. The implementation is simple, and as the builtin example suggests, very effective for SEO.</em></p>

<p>This is a somewhat contrived example, but should hopefully demonstrate the flexibility that page attributes add to Perch. Imagine a website that contains a list of projects. The home page contains a list of the titles of those projects, and a link to view more information. The list is generated using the <a href="http://docs.grabaperch.com/docs/navigation/perch-pages-navigation/">perch_pages_navigation</a> function.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span> <span class="nx">perch_pages_navigation</span><span class="p">(</span><span class="k">array</span><span class="p">(</span> <span class="s1">&#39;from-path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;*&#39;</span> <span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>We&rsquo;d like the list to include a thumbnail and a small excerpt of the project description. I&rsquo;ve already provided a <a href="/blog/2015/01/14/flexible-index-pages-in-perch/">tutorial</a> on a flexible approach for achieving this, but perhaps it&rsquo;s a bit overkill for the immediate needs of the client. With Page Attributes we can fresh out our index page, with an image and an excerpt, with very little effort.</p>

<p>Adding the following to <code>perch/templates/pages/attributes/default.html</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;image&quot;</span> <span class="na">label=</span><span class="s">&quot;Image&quot;</span> <span class="na">type=</span><span class="s">&quot;image&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;excerpt&quot;</span> <span class="na">label=</span><span class="s">&quot;Excerpt&quot;</span> <span class="na">type=</span><span class="s">&quot;textarea&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Adds two additional fields in the Page Details section of all pages.</p>

<p><img src="/images/page-attributes-1.png" alt="Page Attributes added" /></p>

<p>This new content is saved at a page level, so it can now be exposed in our index page using our existing <code>perch_pages_navigation</code> implementation. By modifying &lsquo;perch/templates/navigation/item.html&rsquo; to the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;perch:before&gt;</span>
</span><span class='line'>    <span class="nt">&lt;ul&gt;</span>
</span><span class='line'><span class="nt">&lt;/perch:before&gt;</span>
</span><span class='line'>      <span class="nt">&lt;li</span><span class="err">&lt;</span><span class="na">perch:if</span> <span class="na">exists=</span><span class="s">&quot;current_page&quot;</span><span class="nt">&gt;</span> class=&quot;selected&quot;<span class="nt">&lt;/perch:if&gt;&lt;perch:if</span> <span class="na">exists=</span><span class="s">&quot;ancestor_page&quot;</span><span class="nt">&gt;</span> class=&quot;ancestor&quot;<span class="nt">&lt;/perch:if&gt;</span>&gt;
</span><span class='line'>            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;&lt;perch:pages id=&quot;</span><span class="na">pagePath</span><span class="err">&quot;</span> <span class="nt">/&gt;</span>&quot;&gt;
</span><span class='line'>              <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;&lt;perch:pages id=&quot;</span><span class="na">image</span><span class="err">&quot;</span> <span class="nt">/&gt;</span>&quot; alt=&quot;<span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;pageNavText&quot;</span> <span class="nt">/&gt;</span>&quot;&gt;
</span><span class='line'>              <span class="nt">&lt;h1&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;pageNavText&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>              <span class="nt">&lt;p&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;excerpt&quot;</span> <span class="na">label=</span><span class="s">&quot;Excerpt&quot;</span> <span class="na">type=</span><span class="s">&quot;textarea&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;/p&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>            <span class="nt">&lt;perch:pages</span> <span class="na">id=</span><span class="s">&quot;subitems&quot;</span> <span class="na">encode=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;perch:after&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/ul&gt;</span>
</span><span class='line'><span class="nt">&lt;/perch:after&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The outputted HTML of our index page would resemble:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;</span>
</span><span class='line'>      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/industries/project-1.php&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;/perch/resources/project-thumb.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;Project 1&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;h1&gt;</span>
</span><span class='line'>              Project 1
</span><span class='line'>          <span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>          <span class="nt">&lt;p&gt;</span>
</span><span class='line'>              Project Excerpt
</span><span class='line'>          <span class="nt">&lt;/p&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can see how quickly we can expose, and gain access to, page level content with Page Attributes. This technique may well fit the bill for you immediate requirements. Before committing to this course of action though, see my previously mentioned <a href="/blog/2015/01/14/flexible-index-pages-in-perch/">tutorial</a>, you should be aware of the following aspects of Page Attributes:</p>

<ol>
<li>The new fields are hidden away in the Page Details tab. The content we enter for the index page, may have overlap with content being created for the project page. In this case it more sense to group all the content into content regions.</li>
<li>Through the use of &lsquo;Attribute templates&rsquo;, the user can select which attributes are configurable at a page level. However, there is no way for a new page to infer which template it should us. Which means that it is down to the user to make this decision each time, which in my opinion, limits the dropdown&rsquo;s usefulness.</li>
</ol>


<p>So there you are, Page Attributes. A pretty neat way to add a bit more oomph to your index pages.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Richard Kimber</span></span>

      




<time class='entry-date' datetime='2015-02-19T07:52:05+00:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:52 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/perch/'>perch</a>, <a class='category' href='/blog/categories/php/'>php</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://rich.k3r.me/blog/2015/02/19/page-attributes-in-perch/" data-via="kim3er" data-counturl="http://rich.k3r.me/blog/2015/02/19/page-attributes-in-perch/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/02/12/knowing-your-craft-to-the-rescue/" title="Previous Post: Knowing your craft to the rescue!">&laquo; Knowing your craft to the rescue!</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/02/28/localforage-for-cross-platform-storage/" title="Next Post: localForage for cross-platform storage">localForage for cross-platform storage &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/04/21/there-is-no-spoon/">There Is No Spoon</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/12/consuming-es6-modules-in-npm-packages/">Consuming ES6 Modules in NPM Packages</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/02/controlling-cordova-from-gulp/">Controlling Cordova From Gulp</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/23/in-the-name-of-gulp/">In the Name of Gulp</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/05/comics-the-drm-effect/">Comics: The DRM Effect</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/kim3er">@kim3er</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'kim3er',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/RichardKimber?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Richard Kimber -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'k3r';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rich.k3r.me/blog/2015/02/19/page-attributes-in-perch/';
        var disqus_url = 'http://rich.k3r.me/blog/2015/02/19/page-attributes-in-perch/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
